# 代码整洁相关

## 一、杂谈代码整洁

1. 指导原则：消除重复，分离关注点，统一抽象层次
   1. 消除重复
      1. 代码重复
      2. 结构重复
      3. 过程重复【**自动化**】
   2. 分离关注点
      1. 分离主线、分支
      2. 分离技术和业务
      3. 按业务性质分离
      4. 分离变化快慢的代码
      5. 分离性能高低的代码
   3. 统一抽象层次
      1. 同一抽象层次上的对象才能直接对话；
      2. 同一抽象层次上的对象之间存在着紧密合作
   4. **一个好的函数不应超过5行**【这个只能尽量做到，能做的是最多不超过30行】
   5. 隔离与隐藏
2. 编码tips
   1. 类。应该足够小；单一职责；内聚；严格控制访问权限，注意信息隐藏
   2. 函数。尽可能小；单一职责；单一抽象层次；参数尽量少；无副作用；if嵌套不应超过2层；语义和实现距离不为0时应该抽取函数
   3. 命名与注释
   4. 单元测试。保证软件质量和代码质量；不能依赖真实依赖；路径应该尽可能全；
3. 心智负担与复杂
4. 分层分包
5. 设计原则
6. 参考资料
   1. [杂谈代码整洁](https://mp.weixin.qq.com/s/s_2dfOnMqND1qKjTfnmg5A)

